 // Source code is unavailable, and was generated by the Fernflower decompiler.
package project;

import java.awt.BorderLayout;
import java.awt.Component;
import java.awt.ComponentOrientation;
import java.awt.Dimension;
import java.awt.FlowLayout;
import java.awt.GridLayout;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.border.Border;
import javax.swing.event.ChangeEvent;

public class LuxuryView implements MancalaView {
   private JPanel pits;
   private JPanel pit1;
   private JPanel pit2;
   private JPanel p1MancalaPanel = new project.LuxuryView.BackgroundPanel(this, "images/woodenBackground.png");
   private JPanel p2MancalaPanel;
   private GameButton p1Mancala;
   private GameButton p2Mancala;
   private project.LuxuryView.BackgroundPanel boardview;
   private JFrame frame;
   private JLabel topturn;
   private JLabel botturn;

   public String getPitTextColor() {
      return "#FFFF00";
   }

   public LuxuryView(MancalaController controller) {
      this.p1MancalaPanel.setLayout(new FlowLayout());
      this.topturn = new JLabel("<html> <font color=#FFFFFF>P1's Turn</font>");
      this.botturn = new JLabel("<html> <font color=#FFFFFF>P2's Turn</font>");
      this.topturn.setPreferredSize(new Dimension(35, 30));
      this.botturn.setPreferredSize(new Dimension(50, 30));
      this.p2MancalaPanel = new project.LuxuryView.BackgroundPanel(this, "images/woodenBackground.png");
      this.p2MancalaPanel.setLayout(new FlowLayout());
      this.boardview = new project.LuxuryView.BackgroundPanel(this, "images/rootBG.png");
      this.pits = new project.LuxuryView.BackgroundPanel(this, "images/rootBG.png");
      this.pits.setLayout(new BorderLayout());
      this.pit1 = new project.LuxuryView.BackgroundPanel(this, "images/woodenBackground.png");
      this.pit1.setLayout(new GridLayout(0, 6));
      this.pit1.setComponentOrientation(ComponentOrientation.LEFT_TO_RIGHT);
      this.pit2 = new project.LuxuryView.BackgroundPanel(this, "images/woodenBackground.png");
      this.pit2.setLayout(new GridLayout(0, 6));
      this.pit2.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);
      this.p1Mancala = new GameButton(this, (MancalaController)null, "images/woodenMancala.png", 0, 0, 1, 6);
      this.p2Mancala = new GameButton(this, (MancalaController)null, "images/woodenMancala.png", 0, 0, 2, 6);
      this.boardview.setLayout(new BorderLayout());

      int i;
      GameButton p1butt;
      for(i = 0; i < 6; ++i) {
         p1butt = new GameButton(this, controller, "images/woodenround.png", 80, 80, 2, i);
         this.pit2.add(p1butt);
      }

      for(i = 0; i < 6; ++i) {
         p1butt = new GameButton(this, controller, "images/woodenround.png", 80, 80, 1, i);
         this.pit1.add(p1butt);
      }

      this.p1Mancala.setPreferredSize(new Dimension(300, 100));
      this.p2Mancala.setPreferredSize(new Dimension(300, 100));
      this.pits.add(this.pit1, "South");
      this.pits.add(this.pit2, "North");
      String madeby = "<html> <font color=#FFFFFF>Made by:<br>Paveen<br>Akmal<br>Amin<br>Jeflyn</font>";
      this.p1MancalaPanel.add(this.botturn);
      this.p1MancalaPanel.add(this.p1Mancala);
      this.p1MancalaPanel.add(new JLabel(madeby));
      this.p2MancalaPanel.add(this.topturn);
      this.p2MancalaPanel.add(this.p2Mancala);
      this.boardview.add(this.p1MancalaPanel, "Last");
      this.boardview.add(this.pits, "Center");
      this.boardview.add(this.p2MancalaPanel, "First");
      this.frame = new JFrame();
      this.frame.setSize(650, 420);
      this.frame.setResizable(false);
      this.frame.setTitle("Congkak Game");
      this.frame.add(this.boardview);
      this.frame.setVisible(true);
      this.frame.setDefaultCloseOperation(2);
   }

   public void stateChanged(ChangeEvent event) {
      MancalaModel model = (MancalaModel)event.getSource();
      int[] p1board = model.getp1board();
      int[] p2board = model.getp2board();
      Component[] pit1Components = this.pit1.getComponents();
      Component[] pit2Components = this.pit2.getComponents();
      if (model.getCurrentPlayer() == 1) {
         this.topturn.setText("        ");
         this.botturn.setText("<html> <font color=#FFFFFF>P2's Turn</font>");
      } else {
         this.topturn.setText("<html> <font color=#FFFFFF>P1's Turn</font>");
         this.botturn.setText("        ");
      }

      int i;
      JButton jb2;
      for(i = 0; i < 6; ++i) {
         jb2 = (JButton)pit1Components[i];
         this.updateButton(jb2, p1board[i]);
      }

      for(i = 0; i < 6; ++i) {
         jb2 = (JButton)pit2Components[i];
         this.updateButton(jb2, p2board[i]);
      }

      this.updateButton(this.p1Mancala, p1board[6]);
      this.updateButton(this.p2Mancala, p2board[6]);
      if (model.isDone()) {
         if (p1board[p1board.length - 1] > p2board[p2board.length - 1]) {
            JOptionPane.showMessageDialog(this.pits, "Player 2 Wins!", "Congratulations!", 1);
         } else if (p1board[p1board.length - 1] > p2board[p2board.length - 1]) {
            JOptionPane.showMessageDialog(this.boardview, "Everyone Loses!", "Draw!", 1);
         } else {
            JOptionPane.showMessageDialog(this.boardview, "Player 1 Wins!", "Congratulations!", 1);
         }
      }

   }

   public void updateButton(JButton button, int data) {
      String s = "";
      int count = 0;

      for(int i = 0; i < data; ++i) {
         s = s + "o";
         ++count;
         if (count >= 10) {
            s = "Ox" + count;
         }
      }

      String htmlString = "<html> <font color=" + this.getPitTextColor() + ">" + s + "</font>";
      button.setText(htmlString);
      button.setBorder((Border)null);
   }

   public void close() {
      this.frame.dispose();
   }
}
